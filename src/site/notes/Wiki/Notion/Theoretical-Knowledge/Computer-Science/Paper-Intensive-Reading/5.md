---
{"dg-publish":true,"permalink":"/wiki/notion/theoretical-knowledge/computer-science/paper-intensive-reading/5/"}
---




> 外网设备 → 学校 VPN → 学校 Linux 主机（可访问外网）  
> 想再通过这台主机 → SSH 到 HPC（学校高性能计算集群）

我们画个简图来看下：

```
[你的电脑]
     ↓ VPN
[学校 Linux 主机] —— 可以访问 HPC，但 HPC 不能访问外网
     ↓
 [HPC 集群节点]
```

你现在的问题是：

> VPN 只让你访问到学校 Linux 主机，但 HPC 在内网里，VPN 不能直接访问。

---

## ✅ 解决方案（推荐几种）

### 方案一：SSH 转发（推荐、简单）

其实不用 FRP。  
如果你已经能 SSH 到学校 Linux 主机，那么可以直接通过它“跳板”连接 HPC：

```bash
ssh -J user@linuxhost user@hpc
```

或者老的语法：

```bash
ssh -t user@linuxhost ssh user@hpc
```

> 这会先登录 Linux 主机，再自动登录 HPC，相当于一条命令穿过去。

如果你常用，可以在 `~/.ssh/config` 里写成：

```ini
Host hpc
  HostName hpc.internal.edu
  User hpcuser
  ProxyJump user@linuxhost
```

然后只要：

```bash
ssh hpc
```

就能直接连。

---

### 方案二：用 FRP 建立反向代理（用于绕过跳板限制）

如果 HPC 不能直接从外面访问，也不能通过 VPN 打通，你可以：

1. 在 **学校 Linux 主机** 上运行 `frpc`；
    
2. 在 **外网可访问的 VPS 或云服务器** 上运行 `frps`；
    
3. 建立反向代理，让外网通过 VPS 访问 HPC。
    

不过你现在已经能通过 VPN 访问 Linux 主机，其实没必要用 FRP，多此一举。

---

### 方案三：用 SSH 隧道代替 FRP

如果你只想访问 HPC 的 SSH，可以直接用 SSH 做端口转发：

在你的电脑上：

```bash
ssh -L 2222:hpc.internal.edu:22 user@linuxhost
```

这行命令的意思是：

> 把你本机的 2222 端口，映射到 Linux 主机能访问的 HPC:22。

然后你就可以：

```bash
ssh -p 2222 hpcuser@localhost
```

这比 FRP 更轻量、安全、稳定。

---

## 📘 总结

|问题|答案|
|---|---|
|FRP 连接完是终端吗？|❌ 不是，它只是转发端口的工具。真正的终端是 SSH。|
|你现在的情况要不要用 FRP？|❌ 不需要。用 SSH ProxyJump 或端口转发就能完成。|
|如果要穿透学校内网、VPN无法访问时呢？|✅ 那时可以考虑 FRP。|

---

我可以帮你写一份**完整的 SSH 配置文件（含 ProxyJump）**，这样你只需 `ssh hpc` 一行命令就能登录。  
要我帮你写吗？（只需告诉我：Linux 主机和 HPC 的用户名及主机名格式即可，不含密码）